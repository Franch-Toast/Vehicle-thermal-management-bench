# 上位机设计与使用方法

## 上位机的设计

上位机通过串口与下位机进行通讯

### 需要的功能

- 串口扫描与波特率选择
- 串口的打开与关闭
- 串口信息的发送
- 串口信息的接收与解析
- 数据的波形绘制
- 数据的保存





## 通讯逻辑

下位机搭载FreeRTOS，主要内容为在串口中断中进行对指令码的判断，从而开启对应的任务。

### 通讯协议规定

- 串口波特率115200；
- 8个数据位；
- 无校验位；
- 1个停止位。

串口发送帧格式规定：由 **`帧头 + 指令码 + 数据码 + 帧尾`** 组成。



![通讯逻辑](./pic/1.jpg)





## 更新日志

### 2024.2.22

1. 完成串口助手的基本功能，能够与下位机进行数据的读写

### 2024.2.25

1. 完成通讯逻辑的初版设计，绘制出流程图